{"version":3,"sources":["./src/app/folder/leave/leave-summary/leave-summary.component.html","./src/app/folder/leave/leave-routing.module.ts","./src/app/folder/leave/leave-summary/leave-summary.component.scss","./src/app/folder/leave/leave-summary/leave-summary.component.ts","./src/app/folder/leave/leave.module.ts","./src/app/folder/leave/leave.service.ts"],"names":[],"mappings":"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","file":"leave-leave-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar  class=\\\"toolBar\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-buttons slot=\\\"start\\\" *ngIf=\\\"enableRequest == false\\\">\\n              <ion-menu-button></ion-menu-button>\\n          </ion-buttons>\\n          \\n          <ion-button class=\\\"btnHome\\\" *ngIf=\\\"enableRequest == true\\\" (click)=\\\"goBack()\\\">\\n            <i class=\\\"fas fa-arrow-left\\\"></i> &nbsp;\\n          </ion-button>\\n      </ion-buttons>\\n    <ion-title *ngIf=\\\"enableRequest == false\\\">Leaves</ion-title>\\n    <ion-title *ngIf=\\\"enableRequest == true\\\">Request Leave</ion-title>\\n\\n    <ion-buttons class=\\\"req\\\" slot=\\\"end\\\" (click)=\\\"leaveRequest()\\\">\\n      REQUEST\\n  </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid *ngIf=\\\"enableRequest == false\\\">\\n    <ion-row>\\n      <ion-col size=\\\"4\\\">\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">Start Date</ion-label>\\n              <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"firstDay\\\"  value=\\\"firstDay\\\" name=\\\"firstDate\\\" ngDefaultControl></ion-datetime>\\n          </ion-item>         \\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">End Date</ion-label>\\n              <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"lastDay\\\"  value=\\\"lastDay\\\" name=\\\"lastDay\\\"  ngDefaultControl></ion-datetime>\\n          </ion-item>          \\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n      <ion-button type=\\\"button\\\" class=\\\"gene\\\" color=\\\"#00aaa0\\\" (click)=\\\"getLeaves()\\\">GENERATE</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n    <ion-list *ngIf=\\\"enableRequest == false\\\">\\n\\n        <ion-item *ngFor=\\\"let l of leaveList | slice:0:slice\\\">\\n          <ion-label> \\n            <h5>{{l.reason}}</h5>\\n            <h6>{{l.fromdate | date }} - {{l.todate | date }}</h6>\\n          </ion-label>\\n          <h6  [ngStyle]=\\\"{'color': (l.status == 0 ) ? '#eb445a' : ''}\\\" *ngIf=\\\"l.status == 0\\\"> Rejected</h6>\\n          <h6 [ngStyle]=\\\"{'color': (l.status == 1 ) ? '#50c8ff' : ''}\\\" *ngIf=\\\"l.status == 1\\\">Active</h6>\\n          <h6 [ngStyle]=\\\"{'color': (l.status == 2 ) ? '#28ba62' : ''}\\\" *ngIf=\\\"l.status == 2\\\">Approved</h6>\\n\\n        </ion-item>\\n\\n      </ion-list>\\n\\n  <div class=\\\"top\\\" *ngIf=\\\"enableRequest == true\\\">\\n      <ion-item>\\n        <ion-label>Start Date</ion-label>\\n        <ion-datetime displayFormat=\\\"MMMM DD YYYY\\\" [(ngModel)]=\\\"startDate\\\" name=\\\"title\\\" placeholder=\\\"Start Date\\\"></ion-datetime>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>End Date</ion-label>\\n        <ion-datetime displayFormat=\\\"MMMM DD YYYY\\\" [(ngModel)]=\\\"endDate\\\" name=\\\"title\\\" placeholder=\\\"End Date\\\"></ion-datetime>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Reason</ion-label>\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"reason\\\" name=\\\"title\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-button class=\\\"gen\\\" color=\\\"#00aaa0\\\" (click)=\\\"generate()\\\">GENERATE</ion-button>\\n  </div>\\n\\n  <ion-infinite-scroll (ionInfinite)=\\\"doInfinite($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more dataâ€¦\\\"></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LeaveSummaryComponent } from './leave-summary/leave-summary.component';\n\n\nconst routes: Routes = [\n  {\n    path:'lea',\n    component: LeaveSummaryComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LeaveRoutingModule { }\n","export default \".req {\\n  color: white;\\n}\\n\\n.gen {\\n  color: black;\\n  background: #ddd;\\n  text-align: center;\\n  margin: 20% 30%;\\n}\\n\\n.gene {\\n  color: black;\\n  background: #ddd;\\n  font-size: small !important;\\n}\\n\\n.top {\\n  padding: 4% 1%;\\n}\\n\\n.btnHome {\\n  color: white;\\n}\\n\\nion-datetime {\\n  font-size: small !important;\\n}\\n\\nion-button {\\n  font-size: small !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2xlYXZlL2xlYXZlLXN1bW1hcnkvRTpcXENFUFxcRmx1ZW50TVdNX0NFUF90bXMvc3JjXFxhcHBcXGZvbGRlclxcbGVhdmVcXGxlYXZlLXN1bW1hcnlcXGxlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2ZvbGRlci9sZWF2ZS9sZWF2ZS1zdW1tYXJ5L2xlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURDQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLDJCQUFBO0FDRUY7O0FEQUE7RUFDRSxjQUFBO0FDR0Y7O0FEREE7RUFDRSxZQUFBO0FDSUY7O0FERkE7RUFDRSwyQkFBQTtBQ0tGOztBREhBO0VBQ0EsMkJBQUE7QUNNQSIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9sZWF2ZS9sZWF2ZS1zdW1tYXJ5L2xlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVxe1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmdlbntcclxuICBjb2xvcjpibGFjaztcclxuICBiYWNrZ3JvdW5kOiAjZGRkO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW46IDIwJSAzMCU7XHJcbn1cclxuLmdlbmV7XHJcbiAgY29sb3I6YmxhY2s7XHJcbiAgYmFja2dyb3VuZDogI2RkZDtcclxuICBmb250LXNpemU6IHNtYWxsICFpbXBvcnRhbnQ7ICAgXHJcbn1cclxuLnRvcHtcclxuICBwYWRkaW5nOiA0JSAxJTtcclxufVxyXG4uYnRuSG9tZXtcclxuICBjb2xvcjp3aGl0ZTtcclxufVxyXG5pb24tZGF0ZXRpbWV7XHJcbiAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xyXG59XHJcbmlvbi1idXR0b24ge1xyXG5mb250LXNpemU6IHNtYWxsICFpbXBvcnRhbnQ7ICAgXHJcbn0iLCIucmVxIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uZ2VuIHtcbiAgY29sb3I6IGJsYWNrO1xuICBiYWNrZ3JvdW5kOiAjZGRkO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMjAlIDMwJTtcbn1cblxuLmdlbmUge1xuICBjb2xvcjogYmxhY2s7XG4gIGJhY2tncm91bmQ6ICNkZGQ7XG4gIGZvbnQtc2l6ZTogc21hbGwgIWltcG9ydGFudDtcbn1cblxuLnRvcCB7XG4gIHBhZGRpbmc6IDQlIDElO1xufVxuXG4uYnRuSG9tZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuaW9uLWRhdGV0aW1lIHtcbiAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xufVxuXG5pb24tYnV0dG9uIHtcbiAgZm9udC1zaXplOiBzbWFsbCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx'; \nimport { LeaveService } from '../leave.service';\nimport * as moment from 'moment'; \n\n@Component({\n  selector: 'app-leave-summary',\n  templateUrl: './leave-summary.component.html',\n  styleUrls: ['./leave-summary.component.scss'],\n})\nexport class LeaveSummaryComponent implements OnInit {\n  enableRequest = false;\n  private database: SQLite;\n  conObj: SQLiteObject;\n  dbObj: SQLiteObject;\n  empId: any;\n  leaveList: any;\n  reason: any;\n  endDate: any;\n  startDate: any;\n  firstDay: any;\n  lastDay: any;\n\n  constructor(private sqlite: SQLite,\n              public leavSer: LeaveService) { }\n\n  ngOnInit() {\n    let date = new Date(); \n    this.firstDay =  moment(new Date(date.getFullYear(), date.getMonth(), 1)).format('YYYY-MM-DD'); \n    this.lastDay = moment(new Date(date.getFullYear(), date.getMonth() + 1, 0)).format('YYYY-MM-DD'); \n    this.getLeaves();\n  }\n  \n  getLeaves() {\n    this.empId = window.localStorage.getItem('empId');\n    let firstDay = moment(this.firstDay).format('YYYY-MM-DD'); \n    let lastDay = moment(this.lastDay).format('YYYY-MM-DD'); \n\n    this.leavSer.leaves(this.empId, firstDay, lastDay).subscribe(res=>{\n      this.leaveList = res['data']\n      // this.totalSpent = this.report[this.report.length-1].entireWorkDuration\n    },err=>{\n      // this.errMsg = err;\n    })\n  }\n\n    // this.leavSer.leaveSummary(this.empId).subscribe(res=>{\n    //   this.leaveList = res['data']\n    // }, err=>{\n\n    // })\n  // }\n \n  leaveRequest(){\n    this.enableRequest = true;\n  }\n  \n  generate(){\n    this.enableRequest = false;\n    let payload = { \n      FromDate: moment(this.startDate).format('YYYY-MM-DD'), \n      ToDate: moment(this.endDate).format('YYYY-MM-DD'), \n      Reason: this.reason, \n      EmpId:  window.localStorage.getItem('empId'), \n      Status: 1\n    }\n    this.leavSer.applyLeave(payload).subscribe(res=>{\n      // console.log(res['data']);\n      if(res['data']){\n        this.leavSer.leaveSummary(this.empId).subscribe(res=>{\n          this.leaveList = res['data']\n        }, err=>{\n          console.log(err)\n        })\n      }\n    },err=>{\n      console.log(err)\n    }\n    )\n  }\n\n  goBack(){\n    this.enableRequest = false;\n  }\n  \n  slice: number = 15;\n  doInfinite(infiniteScrollEvent) {\n    setTimeout(() => {\n      this.slice += 5;\n      infiniteScrollEvent.target.complete();\n    }, 500);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LeaveRoutingModule } from './leave-routing.module';\nimport { LeaveSummaryComponent } from './leave-summary/leave-summary.component';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [LeaveSummaryComponent],\n  imports: [\n    CommonModule,\n    LeaveRoutingModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ]\n})\nexport class LeaveModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map'; \nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/Observable';\nimport { environment } from 'src/environments/environment';\nimport { Storage } from '@ionic/storage';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LeaveService {\n  token: string;\n  httpOptions: { headers: HttpHeaders; };\n\n   constructor(private http: HttpClient,\n    private storage: Storage,\n    ) {\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json',\n        'Authorization': 'Bearer ' + <string>window.localStorage.getItem('token')\n      })\n    };\n  }\n\n\n leaveSummary(userId){\n   return this.http.get(environment.url + 'attendance/getmyleaverequests' + '?userid=' + userId, this.httpOptions)\n   .map(Response =>\n    {return Response}).catch(this.handleErrors);\n }\n\n applyLeave(data){\n  return this.http.post(environment.urlPHP + 'attendance/applyleave', data, this.httpOptions)\n  .map(Response =>\n   {return Response}).catch(this.handleErrors);\n }\n\n leaves(empId, firstDay, lastDay){\n  return this.http.get(environment.urlPHP + 'attendance/get_leaves/' + empId +'/' + firstDay+ '/'+lastDay, this.httpOptions)\n  .map(Response =>\n    {return Response}).catch(this.handleErrors);\n }\n \n\n  private handleErrors (error: Response | any) {\n    console.log(error.error.message)\n    return Observable.throw(error.error.message || 'backend server error');\n  }\n}\n\n"],"sourceRoot":"webpack:///"}