{"version":3,"sources":["./src/app/folder/attendance-report/generate-report/generate-report.component.html","./src/app/folder/attendance-report/attendance-report-routing.module.ts","./src/app/folder/attendance-report/attendance-report.module.ts","./src/app/folder/attendance-report/attendance-report.service.ts","./src/app/folder/attendance-report/generate-report/generate-report.component.scss","./src/app/folder/attendance-report/generate-report/generate-report.component.ts"],"names":[],"mappings":"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","file":"attendance-report-attendance-report-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar  class=\\\"toolBar\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n              <ion-menu-button></ion-menu-button>\\n          </ion-buttons>\\n          <!-- <ion-button class=\\\"btnHome\\\" [routerLink]=\\\"'/settings'\\\">\\n            <i class=\\\"fas fa-arrow-left\\\"></i> &nbsp;\\n          </ion-button> -->\\n      </ion-buttons>\\n    <ion-title>Attendance Report</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">Start Date</ion-label>\\n              <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"firstDay\\\"  value=\\\"firstDay\\\" name=\\\"firstDate\\\" ngDefaultControl></ion-datetime>\\n          </ion-item>\\n         \\n      </ion-col>\\n      <ion-col>\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\">End Date</ion-label>\\n              <ion-datetime displayFormat=\\\"MMM DD YYYY\\\" [(ngModel)]=\\\"lastDay\\\"  value=\\\"lastDay\\\" name=\\\"lastDay\\\"  ngDefaultControl></ion-datetime>\\n          </ion-item>          \\n      </ion-col>\\n      <ion-col>\\n      <ion-button type=\\\"button\\\" class=\\\"gen\\\" color=\\\"#00aaa0\\\" (click)=\\\"getReport()\\\">GENERATE</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <div class=\\\"tabHead\\\">Total Spent: &nbsp; {{totalSpent}}</div>\\n\\n  <ion-grid>\\n\\n      <ion-row class=\\\"tabHead\\\">\\n        <ion-col>Date</ion-col> <ion-col>Time</ion-col> <ion-col>Status</ion-col> <ion-col>Spent</ion-col>\\n      </ion-row>\\n\\n      <ion-row *ngFor=\\\"let ar of report | slice:0:slice\\\">\\n          <ion-col>\\n            {{ar.date | date}}\\n          </ion-col>\\n          <ion-col>\\n            {{ar.time}}\\n          </ion-col>\\n          <ion-col>\\n            {{ar.checkInOutString}}\\n          </ion-col>\\n          <ion-col>\\n              {{ar.spent}}\\n          </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n    <ion-infinite-scroll (ionInfinite)=\\\"doInfinite($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more dataâ€¦\\\"></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { GenerateReportComponent } from './generate-report/generate-report.component';\n\n\nconst routes: Routes = [\n  {\n    path: 'rep',\n    component: GenerateReportComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AttendanceReportRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AttendanceReportRoutingModule } from './attendance-report-routing.module';\nimport { GenerateReportComponent } from './generate-report/generate-report.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\n\n@NgModule({\n  declarations: [GenerateReportComponent],\n  imports: [\n    CommonModule,\n    AttendanceReportRoutingModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ]\n})\nexport class AttendanceReportModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map'; \nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/Observable';\nimport { environment } from 'src/environments/environment';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AttendanceReportService {\n  httpOptions: { headers: HttpHeaders; };\n\n   constructor(private http: HttpClient,\n    private storage: Storage,\n    ) {\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json',\n        'Authorization': 'Bearer ' + <string>window.localStorage.getItem('token')\n      })\n    };\n  }\n\n\n  attenReport(empId, firstDay, lastDay){\n    return this.http.get(environment.url + 'attendance/gettimespentinoffice/' + empId + '/' + firstDay + '/' + lastDay + '/all', this.httpOptions)\n    .map(Response =>\n      {return Response}).catch(this.handleErrors);\n  }\n\n  private handleErrors (error: Response | any) {\n    console.log(error.error.message)\n    return Observable.throw(error.error.message || 'backend server error');\n  }\n}\n\n\n","export default \"ion-title {\\n  color: white !important;\\n}\\n\\n.gen {\\n  color: black;\\n  background: #ddd;\\n}\\n\\n.tabHead {\\n  background: #006495;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2F0dGVuZGFuY2UtcmVwb3J0L2dlbmVyYXRlLXJlcG9ydC9FOlxcQ0VQXFxGbHVlbnRNV01fQ0VQX3Rtcy9zcmNcXGFwcFxcZm9sZGVyXFxhdHRlbmRhbmNlLXJlcG9ydFxcZ2VuZXJhdGUtcmVwb3J0XFxnZW5lcmF0ZS1yZXBvcnQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2ZvbGRlci9hdHRlbmRhbmNlLXJlcG9ydC9nZW5lcmF0ZS1yZXBvcnQvZ2VuZXJhdGUtcmVwb3J0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUJBQUE7QUNDSjs7QURHRTtFQUNJLFlBQUE7RUFDQSxnQkFBQTtBQ0FOOztBREdFO0VBQ0ksbUJBQUE7RUFDQSxZQUFBO0FDQU4iLCJmaWxlIjoic3JjL2FwcC9mb2xkZXIvYXR0ZW5kYW5jZS1yZXBvcnQvZ2VuZXJhdGUtcmVwb3J0L2dlbmVyYXRlLXJlcG9ydC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10aXRsZXtcclxuICAgIGNvbG9yOndoaXRlICFpbXBvcnRhbnQ7XHJcblxyXG4gIH1cclxuXHJcbiAgLmdlbntcclxuICAgICAgY29sb3I6YmxhY2s7XHJcbiAgICAgIGJhY2tncm91bmQ6ICNkZGQ7XHJcbiAgfVxyXG5cclxuICAudGFiSGVhZHtcclxuICAgICAgYmFja2dyb3VuZDogIzAwNjQ5NTtcclxuICAgICAgY29sb3I6d2hpdGU7XHJcbiAgfSIsImlvbi10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4uZ2VuIHtcbiAgY29sb3I6IGJsYWNrO1xuICBiYWNrZ3JvdW5kOiAjZGRkO1xufVxuXG4udGFiSGVhZCB7XG4gIGJhY2tncm91bmQ6ICMwMDY0OTU7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { AttendanceReportService } from '../attendance-report.service';\nimport * as moment from 'moment'; \nimport { Storage } from '@ionic/storage';\n\n\n@Component({\n  selector: 'app-generate-report',\n  templateUrl: './generate-report.component.html',\n  styleUrls: ['./generate-report.component.scss'],\n})\nexport class GenerateReportComponent implements OnInit {\n  report: any;\n  errMsg: any;\n  totalSpent: any;\n  firstDay: any;\n  lastDay: any;\n  empId\n\n  constructor(\n    public repSer: AttendanceReportService,\n    private storage: Storage,\n  ) { }\n  \n//   ionViewWillEnter() {\n//     this.storage.get('loginDetails').then(detai => {\n//       console.log(detai.details.empId);\n//       this.empId = detai.details.empId\n//     });\n// }\n\n  ngOnInit() {\n    let date = new Date(); \n    this.firstDay =  moment(new Date(date.getFullYear(), date.getMonth(), 1)).format('YYYY-MM-DD'); \n    this.lastDay = moment(new Date(date.getFullYear(), date.getMonth() + 1, 0)).format('YYYY-MM-DD'); \n    this.getReport();\n  }\n\n  getReport(){\n    this.empId = window.localStorage.getItem('empId');\n    let startDate = moment(this.firstDay).format('YYYY-MM-DD'); \n    let endDate = moment(this.lastDay).format('YYYY-MM-DD'); \n\n    this.repSer.attenReport(this.empId, startDate, endDate).subscribe(res=>{\n      this.report = res['data']\n      this.totalSpent = this.report[this.report.length-1].entireWorkDuration\n    },err=>{\n      this.errMsg = err;\n    })\n  }\n\n  slice: number = 15;\n  doInfinite(infiniteScrollEvent) {\n    setTimeout(() => {\n      this.slice += 5;\n      infiniteScrollEvent.target.complete();\n    }, 500);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}